<html>
  <head>
    <title>Product Recognition</title>
    <link rel="stylesheet" type= "text/css" href="{{url_for('static', filename='style.css')}}">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" 
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" 
    crossorigin="anonymous">
  </head>
  <body>
    <nav class="navbar navbar-light bandqcolours">
    <a class="navbar-brand white-text" href="https://www.diy.com/">
        <!-- <img src="{{url_for('static', filename='bandq_logo.jpg')}}" width="50" height="30" class="d-inline-block align-top" alt="" /> -->
        Product Recognition Demo 
    </a>
    </nav>

    <div class="container-fluid container-margin">
        <div class="row">
            <div class="col">
                <div class="container-margin">
                        <h2 style="text-align: center" >Visual Search</h2>
                        <div style="border: solid 1px #dee2e6; border-radius: .25rem">
                            <div>
                                <div class="container-padding" style="text-align: center" >
                                    <img src="{{ url_for('video_feed') }}" height="360" width="640">
                                </div>
                                <div class="row video-button-group">
                                  <div style="padding-right: 30">
                                      <a href="{{ url_for('capture') }}" style="background-color: #ef6336; border-color: #ef6336" class="btn btn-dark" role="button"> 
                                        <h4>Capture</h4> </a>
                                  </div>
                                  <div style="padding-left: 30">
                                      <a href="{{ url_for('index') }}" class="btn btn-secondary" role="button">Reset</a>
                                  </div>
                                </div>
                            </div>

                {% if not label %}
                <div class="card mb-3 card-margins" style="border-color: #dee2e6">
                  <div class="row no-gutters">
                      <div class="col-md-4">
                      <img src="{{url_for('static', filename='magnifying_glass.svg')}}" height="95" width="35" class="card-img" alt="Tool image">
                      </div>
                      <div class="col-md-8" >
                      <div class="card-body">
                          <h5 class="card-title">Use AI to help you locate tools in store!</h5>
                          <p class="card-text">Simply hold a tool to the camera, and click "Capture"!</p>
                      </div>
                      </div>
                  </div>
                  </div>
                  <div style="text-align: center; padding-bottom: 10">
                    <!-- <img src="{{url_for('static', filename='kingfisher_logo.jpeg')}}" alt="Kingfisher logo"
                     height="16" width="55"> -->
                  </div>
                {% else %}
                <div class="card mb-3 card-margins" style="border-color: #dee2e6">
                  <div class="row no-gutters">
                      <div class="col-md-4">
                      <img src="{{url_for('static', filename='{}.png'.format(label))}}" height="133" width="53" class="card-img" alt="Tool image">
                      </div>
                      <div class="col-md-8">
                      <div class="card-body">
                          <h5 class="card-title">{{ label.title() }}</h5>
                          <p class="card-text">A wide range of {{ label }} are available in store. <br>Price range: £1.99 - £6.00 <br> In stock: Yes</p>
                      </div>
                      </div>
                  </div>
                  </div>
                {% endif %}
                        </div>
                    </div>
                </div>
            <div class="col container-margin" style="text-align: center">
                <h2>Directions</h2>
                      {% if not label %}
                      <ul class="nav nav-pills nav-justified" id="pills-tab" role="tablist">
                          <li class="nav-item" style="border: solid 1px #dee2e6; border-radius: .25rem">
                            <a class="nav-link" id="pills-layout-tab" data-toggle="pill" href="#pills-layout" role="tab" aria-controls="pills-layout" aria-selected="true">Shop Layout</a>
                          </li>
                          <li class="nav-item" style="border: solid 1px #dee2e6; border-radius: .25rem">
                            <a class="nav-link active" id="pills-photo-tab" data-toggle="pill" href="#pills-photo" role="tab" aria-controls="pills-photo" aria-selected="false">Location Photo</a>
                          </li>
                        </ul>
                      <div class="tab-content border container-padding" id="pills-tabContent">
                        <div class="tab-pane fade" id="pills-layout" role="tabpanel" aria-labelledby="pills-layout-tab">
                            <img src="{{url_for('static', filename='blank_layout.png')}}" width="640" height="480">
                            <p style="padding-top: 6px"> The above map shows the layout of this store.</p>
                        </div>
                        <div class="tab-pane fade show active" id="pills-photo" role="tabpanel" aria-labelledby="pills-photo-tab">
                            <img src="{{url_for('static', filename='hardware.jpg')}}" width="640" height="480">
                            <p style="padding-top: 6px"><strong>Welcome to the store!</strong></p>
                        </div>
                      </div>
                      {% else %}
                      <ul class="nav nav-pills nav-justified" id="pills-tab" role="tablist" style="border-color: #3E505B">
                          <li class="nav-item">
                            <a class="nav-link active" id="pills-layout-tab" data-toggle="pill" href="#pills-layout" role="tab" aria-controls="pills-layout" aria-selected="true">Shop Layout</a>
                          </li>
                          <li class="nav-item">
                            <a class="nav-link" id="pills-photo-tab" data-toggle="pill" href="#pills-photo" role="tab" aria-controls="pills-photo" aria-selected="false">Location Photo</a>
                          </li>
                        </ul>
                      <div class="tab-content border container-padding" id="pills-tabContent" style="border-color: #3E505B">
                          <div class="tab-pane fade show active" id="pills-layout" role="tabpanel" aria-labelledby="pills-layout-tab">
                              {% if aisle == 'four' %}
                              <img src="{{url_for('static', filename='aisle_four.png')}}" width="640" height="480">
                              {% elif aisle == 'eight' %}
                              <img src="{{url_for('static', filename='aisle_eight.png')}}" width="640" height="480">
                              {% endif %}
                              <p style="padding-top: 6px">{{ label.title() }} can be found in aisle {{ aisle }}. </p>
                          </div>
                          <div class="tab-pane fade" id="pills-photo" role="tabpanel" aria-labelledby="pills-photo-tab">
                              <img src="{{url_for('static', filename='bandq_interior.jpg')}}" width="640" height="480">
                              <p style="padding-top: 6px">Where to look in store. </p>
                          </div>
                          <div style="text-align: center; padding-top: 10">
                              <!-- <img src="{{url_for('static', filename='kingfisher_logo.jpeg')}}" alt="Kingfisher logo"
                              height="16" width="55"> -->
                            </div>
                        {% endif %}
                        </div>
                </div>
        </div>
    </div>
    <div>
        <footer style="background-color: black; color: white; text-align: center">
            Built by SystemsAI.
        </footer>
    </div>

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" 
    integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" 
    crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" 
    integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" 
    crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" 
    integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" 
    crossorigin="anonymous"></script>

  </body>
</html>
